(this["webpackJsonptrivia-game"]=this["webpackJsonptrivia-game"]||[]).push([[0],{41:function(e,t,n){e.exports=n(73)},51:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(13),s=n.n(o),u=n(8),i=n(6),l=function(){return c.a.createElement("div",{className:"intro-container"},c.a.createElement("h2",{className:"heading"},"Welcome to Trivia Night!"),c.a.createElement("h5",{className:"introduction"},"You will be presented with 10 True or False questions."),c.a.createElement("h5",{className:"question"},"Can you score 100%?"),c.a.createElement(i.b,{id:"start-btn",className:"btn btn-lg btn-success",to:"/quiz"},c.a.createElement("i",{className:"fa fa-play-circle"})," BEGIN"))},m=n(11),d=n(40),E=function(){return c.a.createElement("img",{src:"/img/loading.svg",alt:"loading..."})},f=(n(51),function(){return c.a.createElement("h1",{className:"quiz-fetch-error"},"An error occured while loading the game.")}),h=c.a.memo((function(){return c.a.createElement(i.b,{className:"mx-auto restart-btn",to:"/"},c.a.createElement("i",{className:"fa fa-redo"})," Start Over")})),p=function(e){var t=e.currentQuestionIndex,n=e.totalNumOfQuestions;return c.a.createElement("p",null,t+1," of ",n)},b=function(e){var t=e.handleUserResponse;return c.a.createElement("div",{className:"response-buttons-container"},c.a.createElement("button",{className:"btn btn-md btn-success",onClick:function(){return t(!0)}},c.a.createElement("i",{className:"fa fa-thumbs-up"})," TRUE"),c.a.createElement("button",{className:"btn btn-md btn-danger",onClick:function(){return t(!1)}},c.a.createElement("i",{className:"fa fa-thumbs-down"})," FALSE"))},g=function(e){var t=e.history,n=e.quiz,a=n.questions,o=n.loading,s=n.error,u=e.fetchQuiz,i=e.submitAnswer,l=Object(r.useState)(0),m=Object(d.a)(l,2),g=m[0],v=m[1];if(Object(r.useEffect)((function(){u()}),[u]),s)return c.a.createElement(f,null);if(o)return c.a.createElement(E,null);var N=a[g],y=N.category,q=N.question;return c.a.createElement("div",{className:"quiz-container"},c.a.createElement("h2",{className:"category"},y),c.a.createElement("h5",{className:"question"},q),c.a.createElement(p,{currentQuestionIndex:g,totalNumOfQuestions:a.length}),c.a.createElement(b,{handleUserResponse:function(e){i({questionIndex:g,userResponse:e}),v((function(e){return e+1})),g===a.length-1&&t.push("/results")}}),c.a.createElement(h,null))},v=n(38),N=n.n(v),y=n(20),q={fetchQuiz:function(){return function(e){return e({type:"FETCH_QUIZ_REQUEST"}),N.a.get("https://opentdb.com/api.php?amount=10&difficulty=hard&type=boolean").then((function(t){var n=t.data.results.map((function(e,t){return{id:t,category:Object(y.decode)(e.category),question:Object(y.decode)(e.question),correctAnswer:"true"===Object(y.decode)(e.correct_answer).toLowerCase(),userResponse:null}}));e(function(e){return{type:"FETCH_QUIZ_SUCCESS",payload:e}}(n))})).catch((function(t){e(function(e){return{type:"FETCH_QUIZ_FAILED",payload:e}}(t))}))}},submitAnswer:function(e){return{type:"SUBMIT_ANSWER",payload:e}}},w={fetchQuiz:q.fetchQuiz,submitAnswer:q.submitAnswer},O=Object(m.b)((function(e){return{quiz:e.quiz}}),w)(g),j=n(15),A=n(16),R=n(18),z=n(17),C=n(19),I=function(e){var t=e.question,n=e.correctness,a=e.userResponse;return c.a.createElement("div",{className:"question-row"},c.a.createElement("div",{className:"question"},t.id+1,". ",t.question),c.a.createElement("div",{className:"user-response ".concat(n?"correct":"incorrect")},c.a.createElement("i",{className:"fa ".concat(n?"fa-check":"fa-times")}),"You answered: ",a?"TRUE":"FALSE"))},S=function(e){var t=e.quiz;return c.a.createElement("div",{className:"question-response-container"},t.questions.map((function(e){return c.a.createElement(I,{key:e.id,question:e,correctness:e.userResponse===e.correctAnswer,userResponse:e.userResponse})})))},U=(n(70),function(e){var t=e.quiz;return c.a.createElement("div",{className:"results-container"},c.a.createElement("h2",null,"You scored ",c.a.createElement("br",null),c.a.createElement("span",null,t.score,"/",t.questions.length)),c.a.createElement(S,{quiz:t}),c.a.createElement(i.b,{className:"btn btn-lg btn-success",to:"/"},"PLAY AGAIN"))}),k=Object(m.b)((function(e){return{quiz:e.quiz}}))((a=U,function(e){function t(){return Object(j.a)(this,t),Object(R.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){var e=this.props.quiz;e.completed&&e.questions.length||this.props.history.push("/")}},{key:"render",value:function(){return c.a.createElement(a,this.props)}}]),t}(c.a.Component))),Q=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"404"),c.a.createElement("h5",null,"Sorry, the page you are looking for does not exist!"),c.a.createElement(i.b,{to:"/"},"Home Page"))},_=(n(71),function(){return c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/",component:l}),c.a.createElement(u.a,{path:"/quiz",component:O}),c.a.createElement(u.a,{path:"/results",component:k}),c.a.createElement(u.a,{component:Q}))}),T=function(e){function t(e){var n;return Object(j.a)(this,t),(n=Object(R.a)(this,Object(z.a)(t).call(this,e))).state={hasError:!1},n}return Object(C.a)(t,e),Object(A.a)(t,[{key:"refreshPage",value:function(){window.location.reload(!1)}},{key:"render",value:function(){return this.state.hasError?c.a.createElement("div",{className:"error-boundary-container"},c.a.createElement("h2",null,"Oops... an error occured, please refresh the page and try again!"),c.a.createElement("button",{onClick:this.refreshPage,className:"btn btn-lg btn-primary"},c.a.createElement("i",{className:"fa fa-refresh"})," Refresh")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(c.a.Component),F=n(39),x=n(9),L=n(21),H={score:0,questions:[],loading:!0,completed:!1,error:!1},B=Object(x.c)({quiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_QUIZ_REQUEST":return H;case"FETCH_QUIZ_SUCCESS":return Object(L.a)({},e,{loading:!1,questions:t.payload});case"FETCH_QUIZ_FAILED":return Object(L.a)({},e,{loading:!1,error:t.payload});case"SUBMIT_ANSWER":var n=Object(L.a)({},e),a=t.payload,r=a.questionIndex,c=a.userResponse;return n.questions[r].userResponse=c,r===n.questions.length-1&&(n.completed=!0),n.questions[r].userResponse===n.questions[r].correctAnswer&&(n.score=n.score+1),n;default:return e}}}),Z=[F.a],P=Object(x.d)(B,{},x.a.apply(void 0,Z)),W=function(e){return c.a.createElement(T,null,c.a.createElement(m.a,{store:P},c.a.createElement(i.a,null,c.a.createElement("div",{className:"container-fluid"},c.a.createElement("img",{src:"%PUBLIC_URL%/img/logo.png",className:"logo mx-auto",alt:"logo"}),c.a.createElement("div",{className:"offset-md-3 col-sm-6"},c.a.createElement("div",{className:"app"},e.children))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(72);s.a.render(c.a.createElement(W,null,c.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.f4b383a3.chunk.js.map